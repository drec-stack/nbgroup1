<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="about.title">–û –Ω–∞—Å | NBGROUP.TECH</title>
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/about.css">
    <style>
        /* Ensure content starts below header */
        body {
            padding-top: 80px;
            background: var(--secondary);
        }
        @media (max-width: 768px) {
            body {
                padding-top: 60px;
            }
        }
        
        /* Glass header styles for about page */
        .main-header {
            position: fixed !important;
            top: 20px !important;
            left: 0 !important;
            right: 0 !important;
            width: calc(100% - 40px) !important;
            max-width: 1400px !important;
            margin: 0 auto !important;
            z-index: 1000 !important;
            transform: translateY(0) !important;
            opacity: 1 !important;
            pointer-events: auto !important;
            transition: all 0.4s ease !important;
            border-radius: 20px !important;
            background: rgba(0, 102, 255, 0.12) !important;
            backdrop-filter: blur(16px) saturate(180%) !important;
            -webkit-backdrop-filter: blur(16px) saturate(180%) !important;
            border: 1px solid rgba(255, 255, 255, 0.22) !important;
        }
        
        .main-header.header-hidden {
            transform: translateY(-100%) !important;
            opacity: 0 !important;
            pointer-events: none !important;
        }
        
        .main-header.header-scrolled {
            background: rgba(0, 102, 255, 0.2) !important;
            backdrop-filter: blur(20px) saturate(200%) !important;
            -webkit-backdrop-filter: blur(20px) saturate(200%) !important;
        }
        
        @media (max-width: 768px) {
            .main-header {
                top: 0 !important;
                width: 100% !important;
                max-width: 100% !important;
                border-radius: 0 !important;
                margin: 0 !important;
                padding: 14px 0 !important;
                background: rgba(0, 102, 255, 0.22) !important;
                border: none !important;
                border-bottom: 1px solid rgba(255, 255, 255, 0.15) !important;
            }
        }
    </style>
</head>
<body class="about-page">
    <!-- Header Container -->
    <div id="header-container"></div>
    
    <!-- Your existing about page content here -->
    <section class="about-hero">
        <div class="container">
            <h1 data-i18n="about.hero.title">–û –Ω–∞—Å</h1>
            <p data-i18n="about.hero.subtitle">–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–∞—è –¥–∏–∑–∞–π–Ω-—Å—Ç—É–¥–∏—è –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞</p>
        </div>
    </section>
    
    <section class="about-content">
        <div class="container">
            <div class="about-grid">
                <div class="about-text">
                    <h2 data-i18n="about.mission.title">–ù–∞—à–∞ –º–∏—Å—Å–∏—è</h2>
                    <p data-i18n="about.mission.text">–°–æ–∑–¥–∞–≤–∞—Ç—å –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —Ä—ã–Ω–∫–∏ –∏ —É–ª—É—á—à–∞—é—Ç –∂–∏–∑–Ω—å –ª—é–¥–µ–π —á–µ—Ä–µ–∑ —Å–æ—á–µ—Ç–∞–Ω–∏–µ —ç—Å—Ç–µ—Ç–∏–∫–∏, –∏–Ω–∂–µ–Ω–µ—Ä–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.</p>
                </div>
                <div class="about-image">
                    <!-- Add your image -->
                </div>
            </div>
        </div>
    </section>
    
    <!-- Footer Container -->
    <div id="footer-container"></div>
    
    <!-- JavaScript -->
    <script src="js/i18n.js"></script>
    <script src="js/main.js"></script>
    <script src="js/animations.js"></script>
    <script src="js/about.js"></script>
    
    <script>
        // Component loader for about page
        function loadComponents() {
            console.log('üîÑ Loading components for about page...');
            
            // Load header
            fetch('components/header.html')
                .then(response => response.text())
                .then(html => {
                    document.getElementById('header-container').innerHTML = html;
                    initializeHeader();
                })
                .catch(error => {
                    console.error('Error loading header:', error);
                    document.getElementById('header-container').innerHTML = `
                        <header class="main-header">
                            <div class="container">
                                <div class="header-inner">
                                    <a href="index.html" class="logo">
                                        <div class="logo-mark">NB</div>
                                        <span class="logo-text">NB Group</span>
                                    </a>
                                    <nav class="main-nav">
                                        <a href="index.html" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a>
                                        <a href="about.html" class="nav-link active">–û –Ω–∞—Å</a>
                                        <a href="services.html" class="nav-link">–£—Å–ª—É–≥–∏</a>
                                        <a href="portfolio.html" class="nav-link">–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ</a>
                                        <a href="brandbook.html" class="nav-link">–ë—Ä–µ–Ω–¥–±—É–∫</a>
                                        <a href="contacts.html" class="nav-link">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
                                    </nav>
                                    <div class="header-actions">
                                        <div class="language-switcher" data-current-lang="ru">
                                            <div class="lang-slider"></div>
                                            <button class="lang-btn" data-lang="ru">
                                                <span class="lang-text">RU</span>
                                                <span class="lang-flag">üá∑üá∫</span>
                                            </button>
                                            <button class="lang-btn active" data-lang="en">
                                                <span class="lang-text">EN</span>
                                                <span class="lang-flag">üá∫üá∏</span>
                                            </button>
                                        </div>
                                        <a href="contacts.html" class="btn btn-primary btn-small">
                                            –ù–∞—á–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
                                        </a>
                                        <button class="mobile-menu-toggle" aria-label="Toggle menu">
                                            <span></span>
                                            <span></span>
                                            <span></span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </header>
                        <div class="mobile-menu-overlay"></div>
                    `;
                    initializeHeader();
                });
            
            // Load footer
            fetch('components/footer.html')
                .then(response => response.text())
                .then(html => {
                    document.getElementById('footer-container').innerHTML = html;
                    if (typeof window.initFooter === 'function') {
                        setTimeout(window.initFooter, 100);
                    }
                })
                .catch(error => {
                    console.error('Error loading footer:', error);
                    document.getElementById('footer-container').innerHTML = `
                        <footer class="minimal-footer">
                            <div class="footer-container">
                                <div class="footer-content">
                                    <div class="footer-bottom">
                                        <div class="copyright" data-i18n="footer.copyright">
                                            ¬© 2024 NBGROUP.TECH –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </footer>
                    `;
                });
        }
        
        function initializeHeader() {
            console.log('üîµ Initializing header for about page...');
            
            const header = document.querySelector('.main-header');
            const isHomePage = false; // –≠—Ç–æ –Ω–µ –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –º–µ–Ω—é
            setupMobileMenu();
            
            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–π —Å—Å—ã–ª–∫–∏
            setActiveNavLink();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è —è–∑—ã–∫–∞
            setupLanguageSwitcher();
            
            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ª–æ–≥–∏–∫–∏ —Å–∫—Ä–æ–ª–ª–∞
            setupHeaderScroll();
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–µ–∫–ª—è–Ω–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç
            if (header) {
                setTimeout(() => {
                    header.classList.add('header-glass-enter');
                    
                    setTimeout(() => {
                        header.classList.remove('header-glass-enter');
                    }, 600);
                }, 100);
                
                // –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
                header.addEventListener('mouseenter', () => {
                    if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                        header.classList.add('glass-morph');
                    }
                });
                
                header.addEventListener('mouseleave', () => {
                    header.classList.remove('glass-morph');
                });
            }
            
            function setupMobileMenu() {
                const toggle = document.querySelector('.mobile-menu-toggle');
                const nav = document.querySelector('.main-nav');
                const overlay = document.querySelector('.mobile-menu-overlay');

                if (!toggle || !nav) return;

                const toggleMenu = () => {
                    const isActive = nav.classList.contains('active');
                    toggle.classList.toggle('active');
                    nav.classList.toggle('active');
                    if (overlay) overlay.classList.toggle('active');
                    document.body.style.overflow = isActive ? '' : 'hidden';
                };

                toggle.addEventListener('click', (e) => {
                    e.stopPropagation();
                    toggleMenu();
                });

                if (overlay) {
                    overlay.addEventListener('click', toggleMenu);
                }

                const navLinks = nav.querySelectorAll('.nav-link');
                navLinks.forEach(link => {
                    link.addEventListener('click', toggleMenu);
                });

                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape' && nav.classList.contains('active')) {
                        toggleMenu();
                    }
                });

                window.addEventListener('resize', () => {
                    if (window.innerWidth > 768 && nav.classList.contains('active')) {
                        toggleMenu();
                    }
                });
            }
            
            function setActiveNavLink() {
                const currentPage = window.location.pathname.split('/').pop() || 'index.html';
                const navLinks = document.querySelectorAll('.nav-link');
                
                navLinks.forEach(link => {
                    const href = link.getAttribute('href');
                    if (href === currentPage || 
                        (currentPage === '' && href === 'index.html') ||
                        (currentPage === 'index.html' && href === 'index.html')) {
                        link.classList.add('active');
                    } else {
                        link.classList.remove('active');
                    }
                });
            }
            
            function setupLanguageSwitcher() {
                const langButtons = document.querySelectorAll('.lang-btn');
                
                const currentLang = localStorage.getItem('preferredLang') || 'ru';
                updateLanguageSwitcherState(currentLang);
                
                langButtons.forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.preventDefault();
                        e.stopPropagation();
                        
                        const lang = btn.getAttribute('data-lang');
                        updateLanguageSwitcherState(lang);
                        
                        if (window.i18n && window.i18n.smoothSwitchLanguage) {
                            window.i18n.smoothSwitchLanguage(lang);
                        } else {
                            localStorage.setItem('preferredLang', lang);
                        }
                    });
                });
                
                function updateLanguageSwitcherState(lang) {
                    const langBtns = document.querySelectorAll('.lang-btn');
                    const switcher = document.querySelector('.language-switcher');
                    
                    langBtns.forEach(btn => {
                        btn.classList.remove('active');
                        if (btn.getAttribute('data-lang') === lang) {
                            btn.classList.add('active');
                        }
                    });
                    
                    if (switcher) {
                        switcher.setAttribute('data-current-lang', lang);
                    }
                }
            }
            
            function setupHeaderScroll() {
                const header = document.querySelector('.main-header');
                if (!header) return;
                
                let lastScrollY = window.scrollY;
                const scrollThreshold = 100;
                
                window.addEventListener('scroll', () => {
                    const currentScrollY = window.scrollY;
                    
                    if (currentScrollY <= 0) {
                        header.classList.remove('header-hidden', 'header-scrolled');
                        header.style.opacity = '1';
                        return;
                    }
                    
                    if (currentScrollY > lastScrollY && currentScrollY > scrollThreshold) {
                        // Scrolling down
                        header.classList.remove('header-hidden');
                        header.classList.add('header-scrolled');
                    } else if (currentScrollY < lastScrollY) {
                        // Scrolling up
                        header.classList.remove('header-hidden');
                        header.classList.remove('header-scrolled');
                    }
                    
                    lastScrollY = currentScrollY;
                }, { passive: true });
            }
        }
        
        // Load components when DOM is ready
        document.addEventListener('DOMContentLoaded', loadComponents);
        
        // Apply translations
        setTimeout(() => {
            if (window.i18n && window.i18n.refresh) {
                window.i18n.refresh();
            }
        }, 1000);
    </script>
</body>
</html>
